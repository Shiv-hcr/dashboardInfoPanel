<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <style>
      body {
        background-color: #16252e;
        font-family: "Tahoma", Geneva, sans-serif;
      }

      h1 {
        color: #7ecded;
        font-family: "Georgia", serif;
        font-size: 800%;
        padding-left: 30px;
      }

      p {
        color: #769deb;
        font-size: 200%;
        width: 50%;
        padding-left: 200px;
        margin-right: 500px;
      }

      strong {
        color: whitesmoke;
      }
      .headline {
        color: #769deb;
        font-size: 400%;
        padding-left: 200px;
        margin-right: 500px;
      }

      .text {
        color: #769deb;
        font-size: 200%;
        width: 50%;
        padding-left: 200px;
        margin-right: 500px;
      }

      ul {
        color: #769deb;
        font-size: 200%;
        width: 50%;
        padding-left: 260px;
        margin-right: 500px;
      }

      ol {
        color: #769deb;
        font-size: 200%;
        width: 50%;
        padding-left: 260px;
        margin-right: 500px;
      }

      .source {
        color: #7ecded;
        font-family: "Georgia", serif;
        font-size: 300%;
        width: 50%;
        text-align: right;
        padding-right: 30px;
        font-style: italic;
      }

      em {
        color: #ffffff;
        font-style: italic;
      }

      .fix {
        position: fixed;
        bottom: 30px;
        right: 30px;
      }

      .newsPicContainer {
        max-width: 30%;
        max-height: 50%;
        width: auto;
        height: auto;
        position: fixed;
        top: 360px;
        right: 30px;
        /* border: dashed palevioletred 1px; */
        padding-right: 30px;
        padding-left: 30px;
        padding-bottom: 30px;
        float: right;
        overflow: auto;
      }

      .newsPicContainer img {
        max-height: 100%;
        max-width: 100%;
      }
    </style>
  </head>

  <body>
    <h1>ðŸ’¡ Good to Know</h1>
    <div id="quote">
      <p><em>loading...</em></p>
      <p class="source">- your IT team</p>
    </div>

  <script>
      const DEBUG_MODE = false;
      const SEQUENTIAL_MODE = false;

      function displayRandomQuote(quotes) {
        const quote = quotes[Math.floor(Math.random() * quotes.length)];
        displayQuote(quote);
      }

      function loopThroughQuotes(quotes) {
        let i = 0;
        const quotesLength = quotes.length;
        const interval = setInterval(() => {
          console.log(`Looping through quotes: ${i} of ${quotesLength}`);
          displayQuote(quotes[i]);
          i = (i + 1) % quotesLength;
          if (i === 0 && !DEBUG_MODE) {
            clearInterval(interval);
          }
        }, 3000);
      }

      function sequentialQuotes(quotes) {
        let i = 0;
        displayQuote(quotes[i]);
        document.addEventListener("click", () => {
          i = (i + 1) % quotes.length;
          console.log(`Sequencial looping. Index: ${i}`);
          displayQuote(quotes[i]);
        });
      }

      function displayQuote(quote) {
        document.getElementById("quote").innerHTML = `
                            <p class="headline">${quote.headline}</p>
                            <img src="${quote.pic}" class="newsPicContainer">
                            <p class="text">${quote.text}</p>
                            <p class="source"> - ${quote.source}</p>
                        `;
      }

      (function () {
        console.table({SEQUENTIAL_MODE, DEBUG_MODE});
        fetch("./list.json")
          .then((response) => response.json())
          .then((quotes) => {
            if (DEBUG_MODE) {
              loopThroughQuotes(quotes);
            } else if (SEQUENTIAL_MODE) {
              sequentialQuotes(quotes);
            } else {
              displayRandomQuote(quotes);
            }
          })
          .catch((error) => console.error("Error loading JSON:", error));
      })();
    </script>

    <!-- Insert path to logo here -->
    <img src="logo.png" class="fix" />
  </body>
</html>
